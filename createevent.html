<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Registration Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-y: auto;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            background: white;
            padding: 60px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }
        h2 {
            text-align: center;
        }
        .form-group {
            display: flex;
            flex-wrap: wrap;
            gap: 80px;
            justify-content: space-between;
            margin-bottom: 50px;
        }
        .form-group div {
            flex: 1;
            min-width: 250px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-top: 30px;
        }
        input, textarea, select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .required {
            color: red;
        }
        button {
            width: 100%;
            padding: 15px;
            background-color: black;
            color: white;
            border: none;
            border-radius: 4px;
            margin-top: 50px;
            cursor: pointer;
            font-size: 18px;
        }
        button:hover {
            background-color: #333;
        }

        .start-date-container {
            display: flex !important;
            flex-direction: column !important;
        }

        .single-day-wrapper {
            display: flex !important;
            align-items: center !important;
            margin-top: -10px;
            gap: -10px;
        }

        #single_day_event {
            transform: scale(1.1) !important; /* Slightly larger checkbox */
            cursor: pointer !important;
        }
        .top-left {
    position: absolute;
    top: 20px;
    left: 30px;
    font-size: 24px;
    font-weight: bold;
    text-decoration: none;
    color: black;
}

.button-row {
    display: flex;
    gap: 10px;
}
.clear{
    background-color: red;
}
.submit{
    background-color: green;
}




    </style>
</head>
<body>
    <a href="index.html" class="top-left">K.</a>
    <div class="container">
        <h2>Event Registration Form</h2>
        <form enctype="multipart/form-data"id="eventForm">
            <div class="form-group">
                <div>
                    <label>Event Name: <span class="required">*</span></label>
                    <input type="text" name="event_name" placeholder="Enter event name" required>
                </div>
                <div>
                    <label>Event Caption: <span class="required">*</span></label>
                    <input type="text" name="event_caption" placeholder="Enter event caption" required>
                </div>
                <div>
                    <label>Event Type: <span class="required">*</span></label>
                    <select name="event_type" required>
                        <option value="">Select Event Type</option>
                        <option value="Techfest">Techfest</option>
                        <option value="Workshop">Workshop</option>
                        <option value="Hackathon">Hackathon</option>
                        <option value="Celebration">Celebration</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <div>
                    <label>Event Fee:</label>
                    <input type="number" name="event_fee" placeholder="Enter event fee">
                </div>
                <div class="start-date-container">
                    <label>Start Date: <span class="required">*</span></label>
                    <input type="date" name="start_date" id="start_date" required>
                    <div class="single-day-wrapper">
                        <label for="single_day_event">Single-day-event</label>
                        <input type="checkbox" id="single_day_event">
                    </div>
                </div>
                <div>
                    <label>End Date: <span class="required">*</span></label>
                    <input type="date" name="end_date" id="end_date" required>
                </div>
            </div>                      
            <div class="form-group">
                <div>
                    <label>Country: <span class="required">*</span></label>
                    <input type="text" name="country" value="India" disabled>
                </div>
                <div>
                    <label>State: <span class="required">*</span></label>
                    <select name="state" id="state" required>
                        <option value="">Select State</option>
                    </select>
                </div>
                <div>
                    <label>City: <span class="required">*</span></label>
                    <select name="city" id="city" required>
                        <option value="">Select City</option>
                    </select>
                </div>
                <div>
                    <label>College: <span class="required">*</span></label>
                    <select name="college" id="college" required>
                        <option value="">Select College</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <div>
                    <label>Contact Email:</label>
                    <input type="email" name="contact_email" placeholder="Enter contact email">
                </div>
                <div>
                    <label>Contact Number: <span class="required">*</span></label>
                    <input type="tel" name="contact_number" placeholder="Enter contact number" required>
                </div>
            </div>
            <div class="form-group">
                <div>
                    <label>Upload Image: <span class="required">*</span></label>
                    <input type="file" name="event_image" required>
                </div>
                <div>
                    <label>Event Description:</label>
                    <textarea name="event_description" placeholder="Enter event details"></textarea>
                </div>
            </div>
            <div class="button-row">
                <button type="submit" class="submit">Submit</button>
                <button type="button" class="clear" onclick="clearForm()">Clear</button>
            </div>
            
        </form>
    </div>

    <script>
        const statesAndCities = {
    "Andhra Pradesh": {
        "Visakhapatnam": ["Andhra University", "GITAM University", "Gayatri Vidya Parishad", "Raghu Engineering College", "ANITS"],
        "Vijayawada": ["PVP Siddhartha College", "VR Siddhartha Engineering College", "SRK Institute", "Nalanda Degree College", "KBN College"],
        "Guntur": ["Acharya Nagarjuna University", "RVR & JC College", "Hindu College", "Vignan University", "TJPS College"],
        "Tirupati": ["Sri Venkateswara University", "SVCE", "SV Arts College", "Rashtriya Sanskrit Vidyapeetha", "Sree Vidyanikethan"],
        "Kurnool": ["Rayalaseema University", "Osmania College", "St. Josephâ€™s College", "KVR College", "Silver Jubilee College"]
    },
    "Karnataka": {
        "Bangalore": ["IISc Bangalore", "RV College of Engineering", "BMS College of Engineering", "Christ University", "Presidency College"],
        "Mysore": ["SJCE Mysore", "Vidyavardhaka College", "JSS Science & Technology", "Mysore Medical College", "Mahajana College"],
        "Hubli": ["BVBCET", "KLE Technological University", "SDM College", "KIMS Hubli", "Deshpande Startups"],
        "Mangalore": ["NITTE University", "St. Aloysius College", "Yenepoya University", "MIT Manipal", "AJ Institute of Engineering"],
        "Belgaum": ["KLE University", "VTU Belgaum", "Gogte Institute of Technology", "BIMS", "Angadi Institute of Technology"]
    },
    "Tamil Nadu": {
        "Chennai": ["IIT Madras", "Anna University", "Loyola College", "Madras Christian College", "SRM University"],
        "Coimbatore": ["PSG College of Technology", "Coimbatore Institute of Technology", "Karunya University", "Kumaraguru College", "Amrita University"],
        "Madurai": ["Madurai Kamaraj University", "Thiagarajar College of Engineering", "American College", "Fatima College", "Lady Doak College"],
        "Trichy": ["NIT Trichy", "Bishop Heber College", "Periyar EVR College", "SASTRA University", "Oxford Engineering College"],
        "Salem": ["Vinayaka Missions University", "Sona College of Technology", "Government College of Engineering", "AVS Engineering College", "Knowledge Institute of Technology"]
    },
    "Kerala": {
        "Thiruvananthapuram": ["University of Kerala", "College of Engineering Trivandrum", "LBS Institute of Technology", "Mar Ivanios College", "Government Medical College", "All Saints' College, Thiruvananthapuram","Government College for Women, Thiruvananthapuram","Loyola College of Social Sciences, Thiruvananthapuram","College of Fine Arts, Thiruvananthapuram","Sree Chitra Thirunal College of Engineering, Thiruvananthapuram","Government Law College, Thiruvananthapuram","Other"],
        "Palakkad" :["Government Engineering College, Sreekrishnapuram","Government Victoria College","NSS College of Engineering","Mercy College, Palakkad","Chembai Memorial Government Music College","MES College of Engineering, Kuttippuram","Vidya Academy of Science and Technology","Vidya Academy of Science and Technology","Yuvakshetra Institute of Management Studies","Sree Neelakanta Government Sanskrit College","Other"],
        "Kochi": ["CUSAT", "SCMS School of Engineering", "Rajagiri College", "St. Teresa's College", "Sacred Heart College","Government Law College, Ernakulam","Amrita Institute of Medical Sciences","Model Engineering College","Federal Institute of Science and Technology (FISAT)","Toc H Institute of Science and Technology","Other"],
        "Idukki" :["Mar Baselios Christian College of Engineering and Technology","Government College, Kattappana","Government Engineering College, Painav, Idukki","College of Engineering, Munnar","Government Polytechnic College, Nedumkandam","Marian College, Kuttikanam","St. Thomas College, Thodupuzha","Al-Azhar College of Arts and Science","Government College, Munnar","St. Joseph's College, Moolamattom","Jawaharlal Nehru Institute of Arts and Science","Other"],
        "Malappuram" : ["MES Keveeyam College, Valanchery","PSMO College, Tirurangadi","Government College, Malappuram","MEA Engineering College","MEA Engineering College","Aligarh Muslim University (AMU) Centre, Malappuram","Aligarh Muslim University (AMU) Centre, Malappuram","Government Medical College, Manjeri","EMEA College of Arts and Science","MES Medical College, Perinthalmanna","Other"],
        "Kottayam" :["Rajiv Gandhi Institute of Technology (RIT)","CMS College, Kottayam","Baselius College, Kottayam","Baselius College, Kottayam","Alphonsa College, Pala","Alphonsa College, Pala","Assumption College, Changanacherry","B.C.M. College for Women, Kottayam","Bishop Kurialacherry College for Women, Amalagiri","Bishop Vayalil Memorial Holy Cross College, Cherpunkal","Amal Jyothi College of Engineering, Kanjirapally","College of Applied Science (IHRD), Njeezhoor","Other"],
        "Alappuzha" :["Sanatana Dharma College, Alappuzha","St. Joseph's College for Women, Alappuzha","T.D. Medical College, Alappuzha","College of Engineering, Chengannur","College of Engineering, Cherthala","Bishop Moore College, Mavelikara","MSM College, Kayamkulam","KVM College of Nursing, Cherthala","College of Applied Science, Mavelikara","KVM College of Arts and Science, Cherthala","Other"],
        "Pathanamthitta" :["Catholicate College, Pathanamthitta","Mar Athanasius College, Pathanamthitta","St. Thomas College, Kozhencherry","Mount Zion College of Engineering, Pathanamthitta","Believers Church Medical College, Thiruvalla","Pushpagiri Institute of Medical Sciences and Research Centre, Thiruvalla","Mar Chrysostom College of Education, Pathanamthitta","Mannam Ayurveda Co-operative Medical College, Pandalam","Sree Buddha College of Engineering, Pattoor","KVVS Institute of Technology, Adoor","Other"],
        "Kozhikode": ["Government Medical College, Kozhikode", "IIM Kozhikode", "NIT Calicut", "Farook College", "Providence Women's College", "Zamorinâ€™s Guruvayurappan College","Devagiri College","Government Engineering College, Kozhikode","Malabar Christian College","KMCT College of Engineering","AWH Engineering College","Markaz Arts and Science College","Other"],
        "Wayanad" :["Government Engineering College, Wayanad","WMO Arts and Science College, Muttil","Mary Matha Arts & Science College, Mananthavady","Don Bosco College, Sulthan Bathery","Pazhassi Raja College, Pulpally","Oriental College of Hotel Management","College of Veterinary and Animal Sciences, Pookode","Indira Gandhi College of Arts & Science","St. Mary's College, Sulthan Bathery","Jawaharlal Nehru College, Panamaram","Other"],
        "Kannur" :["Government Engineering College, Kannur","Kannur University","Government Brennen College, Thalassery","Sir Syed College, Taliparamba","College of Engineering, Thalassery","Don Bosco Arts and Science College","Government Medical College, Pariyaram","Chinmaya Institute of Technology","Sree Narayana College, Kannur","College of Applied Science, Pattuvam","Other"],
        "Thrissur": ["Government Engineering College Thrissur", "Kerala Agricultural University", "Sahrdaya College of Engineering", "St. Thomas College", "Christ College","Amala Institute of Medical Sciences","Government Medical College, Thrissur","Government Medical College, Thrissur","Sree Kerala Varma College","IES College of Engineering","Other"],
        "Kasaragod" :["Central University of Kerala","Government College, Kasaragod","Malik Deenar College of Pharmacy","Government Polytechnic College, Kasaragod","College of Engineering, Trikaripur","Nehru Arts and Science College","LBS College of Engineering","Sullamussalam Science College","Malik Deenar Institute of Management Studies","Kasaragod Institute of Technology","Other"],
        "Kollam": ["TKM College of Engineering", "MES Institute of Technology", "Amrita Vishwa Vidyapeetham", "Sree Narayana College", "Younus College of Engineering","Fatima Mata National College, Kollam","Bishop Jerome Institute, Kollam","Travancore Medical College, Kollam","Kumbalathu Sankupilla Memorial Devaswom Board College","College of Teacher Education, Arkannoor, Ayur","College of Engineering, Perumon","Sree Narayana Institute of Medical Sciences, Kollam","Other"]
    },
    "Maharashtra": {
        "Mumbai": ["IIT Bombay", "University of Mumbai", "St. Xavier's College", "VJTI", "NMIMS"],
        "Pune": ["Savitribai Phule Pune University", "College of Engineering Pune", "Fergusson College", "MIT Pune", "Bharati Vidyapeeth University"],
        "Nagpur": ["VNIT Nagpur", "Nagpur University", "YCCE", "LIT Nagpur", "GHRCE"],
        "Nashik": ["K. K. Wagh Institute of Engineering", "Sandip University", "Nashik District Maratha Vidya Prasarak Samaj", "Yashwantrao Chavan Maharashtra Open University", "MET Bhujbal Knowledge City"],
        "Aurangabad": ["Dr. Babasaheb Ambedkar Marathwada University", "MIT Aurangabad", "Government College of Engineering Aurangabad", "Deogiri College", "MGM University"]
    },
    "Punjab": {
        "Chandigarh": ["Panjab University", "PEC Chandigarh", "Chandigarh University", "DAV College", "GGDSD College"],
        "Ludhiana": ["Punjab Agricultural University", "Guru Nanak Dev Engineering College", "SCD Government College", "Christian Medical College", "Bhai Gurdas Group of Institutions"],
        "Amritsar": ["Guru Nanak Dev University", "BBK DAV College for Women", "Khalsa College Amritsar", "DAV College", "Global Institute Amritsar"],
        "Jalandhar": ["Lovely Professional University", "DAV University", "Guru Nanak Dev Engineering College", "Doaba College", "St. Soldier Group of Institutions"],
        "Patiala": ["Thapar Institute of Engineering & Technology", "Punjabi University", "Govt. Mohindra College", "Gian Sagar Medical College", "Multani Mal Modi College"]
    }
};

        const stateSelect = document.getElementById("state");
        const citySelect = document.getElementById("city");
        const collegeSelect = document.getElementById("college");

        Object.keys(statesAndCities).forEach(state => {
            let option = new Option(state, state);
            stateSelect.add(option);
        });

        stateSelect.addEventListener("change", function() {
            citySelect.innerHTML = "<option value=''>Select City</option>";
            collegeSelect.innerHTML = "<option value=''>Select College</option>";
            let cities = statesAndCities[this.value] || {};
            Object.keys(cities).forEach(city => {
                let option = new Option(city, city);
                citySelect.add(option);
            });
        });

        citySelect.addEventListener("change", function() {
            collegeSelect.innerHTML = "<option value=''>Select College</option>";
            let selectedState = stateSelect.value;
            let colleges = statesAndCities[selectedState]?.[this.value] || [];
            colleges.forEach(college => {
                let option = new Option(college, college);
                collegeSelect.add(option);
            });
        });

        document.getElementById("single_day_event").addEventListener("change", function () {
        const startDate = document.getElementById("start_date");
        const endDate = document.getElementById("end_date");

        if (this.checked) {
            endDate.value = startDate.value; // Set end date to start date
            endDate.disabled = true; // Disable end date field
        } else {
            endDate.disabled = false; // Enable end date field
        }
    });

    // Ensure that if start date changes, the end date updates when single-day is checked
    document.getElementById("start_date").addEventListener("change", function () {
        const singleDayCheckbox = document.getElementById("single_day_event");
        const endDate = document.getElementById("end_date");

        if (singleDayCheckbox.checked) {
            endDate.value = this.value; // Sync end date with start date
        }
    });
    document.querySelector("form").addEventListener("submit", async function (event) {
    event.preventDefault(); // Prevent form from refreshing

    // Get form elements
    let formData = new FormData(this);  // Automatically gets all form fields & files

    // Send data to Flask backend
    try {
        let response = await fetch("http://127.0.0.1:5000/createevent", {
            method: "POST",
            body: formData, // Send form data (not JSON)
        });

        let result = await response.json();
        console.log("Server Response:", result);

        if (!response.ok) {
            throw new Error(result.error);
        }

        alert(result.message);
    } catch (error) {
        console.error("Error submitting event:", error);
        alert("Event submission failed: " + error.message);
    }
});



    </script>
    <script>
        const form = document.getElementById('eventForm');
    
        form.addEventListener('submit', function (event) {
            event.preventDefault();
    
            // TODO: Add your Firebase or submission logic here
    
            // After submission, clear form inputs
            form.reset();
        });
    
        function clearForm() {
            form.reset();
        }
    </script>
    
    
    
</body>
</html>
